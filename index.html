<!doctype html>
<html data-ng-app="musicBox" ng-cloak>
<head>
	<title>Project Music Box</title>

    <!-- Stylesheets -->
        <!-- Font Awesome For Icons -->
    <link rel="stylesheet" type="text/css" href="css/font-awesome.css"/>
        <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css"/>
        <!-- Application Style -->
    <link rel="stylesheet" type="text/css" href="css/musicBox.css"/>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="apple-mobile-web-app-title" content="MusicBox"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui=yes" />
</head>


<body id="home" style="font-family: arial;" data-ng-controller='deviceController'>
    <header id="page_header">
        <div class="container">
            <h1>
                Project Music Box
            </h1>
            <menu ng-hide="isMobile">
                <menuitem ng-hide='user.permissions != undefined'><a ng-href='#login'>Log In</a></menuitem>
                <menuitem ng-hide='user.permissions == undefined'><a ng-href='#admin'>Account</a></menuitem>
                <menuitem ng-hide='user.permissions == undefined'><a ng-click="user.logout(); $location.path('/');">Log Out</a></menuitem>
            </menu>
        </div>
    </header>

    <div id="page_content">
        <div class="container">
            <noscript>
                You need to be running javascript to control the device!
            </noscript>

            <section id="device_quick_controls" class="clearfix">
                <menu id="controls_container">
                    <div class="detail">
                        <span ng-hide="boxSession.getCurrentDevice() === undefined || boxSession.getCurrentDevice().currentSong === undefined || boxSession.getCurrentDevice().isOffline()">
                            {{boxSession.getCurrentDevice().currentSong.Title}}
                            -
                            {{boxSession.getCurrentDevice().currentSong.ArtistName}}
                        </span>
                        <span ng-hide="boxSession.getCurrentDevice() === undefined || boxSession.currentDevice().isPlaying() || boxSession.getCurrentDevice().currentSong !== undefined">
                            No Song Playing
                        </span>
                        <span ng-hide="!boxSession.getCurrentDevice().isOffline()">
                            Device not Connected
                        </span>
                        <span ng-hide="boxSession.getCurrentDevice() !== undefined">
                            Device not Found
                        </span>
                    </div>

                    <div id="song_progress_bar">
                        <span id="current_progress">0:00</span>
                        <span id="song_length">{{formatLength(boxSession.getCurrentDevice().history[boxSession.getCurrentDevice().history.length -1].Length)}}</span>
                        <div id="progress_bar"></div>
                    </div>

                    <span ng-hide="user.permissions === undefined || isMobile">
                        <menuitem id="song_play_pause" class="btn icon-large {{ (boxSession.getCurrentDevice().isPlaying()) | playPauseIcon}}" ng-click="playPauseTrack()"></menuitem>

                        <menuitem id="song_skip" class="btn icon-forward icon-large" ng-click="skipTrack()"></menuitem>

                        <div id='volume_control'>
                            <div id="volume_container">
                            <i class='{{boxSession.currentDevice.Volume | volumeIcon}}'></i>
                            </div>
                        </div>
                    </span>
                </menu>
            </section>

            <section id="content_area">
                <div id="content_views" data-ng-view>
                </div>
            </section>
        </div>
    </div>

    <footer id="footer">
        <div class="container">
            Copyright 2013 All Rights Reserved.
        </div>
    </footer>

    <!-- External Libraries -->
        <!-- jQuery -->
    <script src='js/lib/jquery/jquery-1.10.2.js'></script>
        <!-- Angular -->
    <script src="js/lib/angular/angular.js"></script>
        <!-- Angular Routing -->
    <script src="js/lib/angular/angular-route.js"></script>
        <!-- Angular Bootstrap UI -->
    <script src="js/lib/angular-ui/ui-bootstrap-0.10.0.min.js"></script>
        <!-- Autobahn (WAMP) -->
    <script src="js/lib/autobahn/autobahn.js"></script>


    <!-- Personal Libraries -->
        <!-- Socket Connection Library -->
        <script src="js/res/socket.js"></script>

    <!-- Application Source -->
    <script src="js/src/appconfig.js"></script>

    <script src="js/src/user.js"></script>
    <script src="js/src/device.js"></script>

    <script src="js/src/musicBoxSession.js"></script>

    <script src="js/src/controllers/loginController.js"></script>
    <script src="js/src/controllers/deviceController.js"></script>
    <script src="js/src/controllers/mobileController.js"></script>
    <script src="js/src/controllers/queueController.js"></script>
    <script src="js/src/controllers/queueSearchController.js"></script>
    <script src="js/src/controllers/adminController.js"></script>
    <script src="js/src/controllers/settingsController.js"></script>

    <script src="js/src/services/spotify.js"></script>
    <script src="js/src/services/lastfm.js"></script>
    <script src="js/src/filters.js"></script>

    <script src="js/src/main.js"></script>
</body>
</html>
